<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- HTML 파일 문서 호환성을 edge버전으로 통일-->
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <!-- HTML 4.0.1 버전 기준 문자인코딩 방식 정의 -->
  <!-- 현재 사용자가 접속한 디바이스의 가로 세로 길이에 맞게 앱 사이즈를 조절함. 초기, 최대, 최소 비율은 모두 1이며, 사용자가 드레그로 크기 조정 불가능-->
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale = 1.0, user-scalable=no">

  <!-- CSS 선언 -->
  <link rel = "stylesheet" href = "css/init/init.css">
  <link rel = "stylesheet" href = "css/OP/OP.css">
  <link rel = "stylesheet" href = "css/OP/EndReport.css">

  <!-- 카카오 API를 사용하기 위한 라이브러리 선언-->
  <script type="text/JavaScript" src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script>
    Kakao.init('2e39201190179fe7cd5eb25903daba8a'); // SDK를 초기화 합니다. 애플리케이션 > 앱 설정 > 앱 키 : JAVASCRIPT KEY 입력하세요
  </script>

  <!-- 자바스크립트 함수 선언 -->
  <script src = "../../JavaScript/logout/unlinkWithKakao.js"></script>
  <script src = "../../JavaScript/item/loginAram.js"></script>
  <script src = "../../JavaScript/item/loadingOn.js"></script>
  <script src = "../../JavaScript/item/loadingOff.js"></script>

  <script src = "../../JavaScript/time/getNewYorkTime.js"></script>
  <script src = "../../JavaScript/time/getCurrentDate.js"></script>
  <script src = "../../JavaScript/time/isCurrentTimeInDayRange.js"></script>
  <script src = "../../JavaScript/time/isCurrentTimeInEveningRange.js"></script>
  <script src = "../../JavaScript/time/isCurrentTimeInNightRange.js"></script>

  <script src = "../../JavaScript/op/shareMessage.js"></script>
  <script src = "../../JavaScript/op/sendToMe.js"></script>
  <script src = "../../JavaScript/op/sendFriends.js"></script>
  <script src = "../../JavaScript/op/getFriendUuid.js"></script>
  <script src = "../../JavaScript/op/refreshAccessToken.js"></script>
  <script src = "../../JavaScript/op/endReport.js"></script>

  <title>SK GHOST OP</title>
</head>

<body id = "body">
<!--header-->
<header id = "header"> <!-- div 와  <header>의 차이란?>? -->
  <img id="header_sk" src="css/images/Ghost.png" alt="location images" style="cursor: pointer;" onclick="window.location.href = '/'"> <!-- GHOST 트레이드 마크 -->
  <p id = "header_logo">SK GHOST AE</p>
</header>
<!--section-->
<div id = "section">
  <!--section_top-->
  <div id = "section_top">
    <img id="img1" src="css/images/OP1.png"/>
  </div>
  <!--section_botttom-->
  <div id = "section_bottom">
    <button id="custom-startwork-btn" onClick="sendFriends()">
      <span class = "bntText">Start Work</span>
    </button>

    <button id="custom-endwork-btn">
      <span class = "bntText"> End Work</span>
    </button>
  </div>
</div>

<div id = "footer">
  <span id ="footer_text">You are best</span>
</div>

</body>
<script>
  console.log(getNewYorkTime())
  // Online 또는 Offline 상태 변경 시 발생하는 이벤트
  window.addEventListener('online', function () {
    // 온라인 상태
    console.log('온라인 상태입니다.');
  });

  window.addEventListener('offline', function () {
    window.location.href = "/"
    // 오프라인 상태
    alert('인터넷 연결이 끊겼습니다. 다시 연결 후 시도하세요.');
  });
</script>

<script>
  // 사용자가 OP 페이지에 들어오면 카카오톡 프로필, 이름을 애니메이션으로 보여준다.
  Kakao.Auth.getStatusInfo(function(statusObj) {
    if (statusObj.status === 'connected') {
      loginAram(statusObj.user.kakao_account.profile.profile_image_url, statusObj.user.properties.nickname)
    }
  })
</script>

<script>
  document.getElementById("custom-endwork-btn").addEventListener('click', function() {
    let btn = document.getElementById("custom-endwork-btn")
    let btn2 = document.getElementById("custom-startwork-btn")
    btn.disabled = true;
    btn.style.opacity = 0.5;
    btn2.disabled = true;
    btn2.style.opacity = 0.5;
    endReport()
  });
</script>
</html>

